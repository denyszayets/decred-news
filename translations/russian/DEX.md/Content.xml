<sheet version="1">
<markup version="1" identifier="markdownxl" displayName="Markdown XL">
	<tag definition="heading1" pattern="#"></tag>
	<tag definition="heading2" pattern="##"></tag>
	<tag definition="heading3" pattern="###"></tag>
	<tag definition="heading4" pattern="####"></tag>
	<tag definition="heading5" pattern="#####"></tag>
	<tag definition="heading6" pattern="######"></tag>
	<tag definition="codeblock" pattern="``"></tag>
	<tag definition="codeblock" pattern="''"></tag>
	<tag definition="comment" pattern="%%"></tag>
	<tag definition="nativeblock" pattern="~~"></tag>
	<tag definition="blockquote" pattern="&gt;"></tag>
	<tag definition="orderedList" pattern="\d."></tag>
	<tag definition="unorderedList" pattern="+"></tag>
	<tag definition="unorderedList" pattern="-"></tag>
	<tag definition="unorderedList" pattern="*"></tag>
	<tag definition="divider" pattern="----"></tag>
	<tag definition="code" startPattern="`" endPattern="`"></tag>
	<tag definition="delete" startPattern="||" endPattern="||"></tag>
	<tag definition="emph" startPattern="*" endPattern="*"></tag>
	<tag definition="emph" startPattern="_" endPattern="_"></tag>
	<tag definition="inlineComment" startPattern="++" endPattern="++"></tag>
	<tag definition="inlineNative" startPattern="~" endPattern="~"></tag>
	<tag definition="mark" startPattern="::" endPattern="::"></tag>
	<tag definition="strong" startPattern="__" endPattern="__"></tag>
	<tag definition="strong" startPattern="**" endPattern="**"></tag>
	<tag definition="annotation" startPattern="{" endPattern="}"></tag>
	<tag definition="link" startPattern="[" endPattern="]"></tag>
	<tag definition="footnote" pattern="(fn)"></tag>
	<tag definition="image" pattern="(img)"></tag>
	<tag definition="video" pattern="(vid)"></tag>
</markup>
<string xml:space="preserve">
<p><tags><tag kind="heading1"># </tag></tags>DEX</p>
<p><tags><tag kind="heading1"># </tag></tags>Новый вид децентрализированного обмена (DEX)</p>
<p></p>
<p>Концепции децентрализированного обмена (DEX) уделяется всё больше внимания на криптовалютных доменах как следствие того, что результаты обменов взламываются, используются как «exit scams» или подвергаются нормативному регулированию. Несколько проектов криптовалют стремятся к тому, чтобы заменить типичные, централизированные и исключительно виртуальные, криптовалютные обмены на токен и блокчейн. </p>
<p></p>
<p>Мы предлагаем альтернативу существующим децентрализированным обменам. Эта система характеризуется такими особенностями: </p>
<p></p>
<p><tags><tag kind="unorderedList">- </tag></tags>Она упрощает обмен не между фиатными валютами, а исключительно между криптовалютами.</p>
<p><tags><tag kind="unorderedList">- </tag></tags>Она строится по простой схеме «клиент-сервер», без соответствующего токена или блокчейна. </p>
<p><tags><tag kind="unorderedList">- </tag></tags>Операторы сервера не контролируют фонды клиентов. </p>
<p><tags><tag kind="unorderedList">- </tag></tags>Она использует он-чейн транзакции для выполнения ордеров и для контроля над соблюдением правил. </p>
<p><tags><tag kind="unorderedList">- </tag></tags>Операторы сервера не получают никакого вознаграждения за мэтчинг ордеров.   </p>
<p><tags><tag kind="unorderedList">- </tag></tags>Добавление поддержки для монет сводится к простой задаче по добавлению соответствующей поддержки для атомного свопа.</p>
<p><tags><tag kind="unorderedList">- </tag></tags>Ордеры, размещённые на обмене, могут регулироваться изнутри с помощью правил, установленных клиентами и сервером.</p>
<p><tags><tag kind="unorderedList">- </tag></tags>Работа со злонамеренными клиентами ведётся с помощью репутационной системы на основе Politeia.</p>
<p><tags><tag kind="unorderedList">- </tag></tags>В качестве способа борьбы со злонамеренным поведением, предусмотрен предварительный взнос за создание на сервере учётной записи клиента. </p>
<p><tags><tag kind="unorderedList">- </tag></tags>Мэтчинг ордеров осуществляется псевдорандомно в рамках эпох. </p>
<p><tags><tag kind="unorderedList">- </tag></tags>Размеры ордеров, на обеих сторонах сделки купли-продажи, включают стандартизированные размеры лотов.  </p>
<p><tags><tag kind="unorderedList">- </tag></tags>Информация о лимитных и отменённых ордерах распространяется клиентами через сервер, а рыночные ордеры передаются от клиента к клиенту. </p>
<p><tags><tag kind="unorderedList">- </tag></tags>Практически мгновенный обмен для менее крупных ордеров становится возможным благодаря соответствующей офф-чейн сети на основе LN, использующей атомные свопы.</p>
<p><tags><tag kind="unorderedList">- </tag></tags>Связь между серверами устанавливается посредством многоканальной сети, позволяющей кросс-серверный мэтчинг ордеров. </p>
<p><tags><tag kind="unorderedList">- </tag></tags>Внешние сервисы (например, кошельки) могут получить доступ к простому  клиенту API  на сервере, предоставляющему  информацию о входящих данных, о возможности размещать ордеры, а также и другие сервисы. </p>
<p></p>
<p>Я уверен, что такая инфраструктура может существенно повысить устойчивость экосистемы криптовалюты в целом и рынков  Decred в частности. Далее я предоставлю различные размышления на эту тему, которые подтолкнули нас предложить архитектуру, кратко изложенную выше.</p>
<p></p>
<p><tags><tag kind="heading2">## </tag></tags>Мотивация</p>
<p>Каждый, кто имеет представление о процессах, связанных с управлением обменом, с использованием обмена или же с добавлением криптовалютного проекта к обмену, знает о существовании гейткиперов, с которыми нужно иметь дело. </p>
<p></p>
<p>Операторы централизированного обмена вынуждены преодолевать многочисленные препятствия. Это связано с тем, что контроль над фондами клиентов подразумевает соблюдение различных правил соответствующей юрисдикции. Речь идёт, например, о регистрации в FinCEN, выполнении требований закона «Bank Secrecy Act», внедрении политик KYC/AML и регистрации в качестве денежного переводчика. </p>
<p></p>
<p>Для пользователей централизированных обменов следование политикам KYC/AML означает серьёзное вторжение в конфиденциальность, а также и то, что клиентские фонды на обмене могут быть заморожены в любой момент по многим причинам. </p>
<p></p>
<p>Проекты, которые пытаются добавить их криптовалюту в обмены, часто вынуждены платить большие взносы за включение в список, несмотря на то, что добавление поддержки является довольно простой задачей, а многие крупные обмены, по сути, заинтересованы в добавлении криптовалют, которые, по их мнению, принесут наибольшую прибыль через комиссионные сборы. </p>
<p></p>
<p>Несколько проектов DEX были созданы именно для того, чтобы решить вышеперечисленные проблемы, путём замены обмена на блокчейн или токен, и их усилия в этом направлении были лишь частично успешными. В то время как они исключили доверенную третью сторону (“TTP”), они включили свои собственные продукты как способ получения комиссионных сборов, который заменяет фрикцию TTP на фрикцию новой платформы. Сам факт получения комиссионных сборов поощряет централизацию на основе предлагаемого решения, и это противоречит системе добровольного обмена. В то же время, чейн или токен служат для того, чтобы исключить TTP, они также создают определённые трудности для мэтчинга ордеров, который традиционно осуществляется через промежуточный чейн или токен. </p>
<p></p>
<p>В дополнение ко всем проблемам, нормативного характера, работа пользователя и технологические аспекты, обмены и существующие проекты DEX, а также их экосистемы, являются уязвимыми по отношению к  высокочастотным алгоритмам трейдинга (“HFT”) и могут эксплуатироваться ими. Начиная с 90-х годов ХХ века, HFT оказывают всё большее влияние на фондовые, сырьевые и валютные рынки. И именно HFT стали причиной нескольких значительных обвалов финансовых рынков («flash crashes») как следствие того, что они одновременно изымали свою эфемерную ликвидность. HFT обычно сводят к минимуму пребывание своих позиций в качестве открытых, но они, но они открывают и закрывают эти позиции очень часто. Они получают выгоду от мэтчинга ордеров на обмене по схеме «first in, first out» («FIFO») и прибегают к чрезвычайным мерам, чтобы иметь более низкую латентность по сравнению с их конкурентами. С этой целью, HFT заключают сделки с оборудования, расположенного очень близко к обменным серверам, платят большие суммы денег за входящие данные с наиболее низкой латентностью, используют FPGA или ASIC в качестве шлюзов для ордеров, используют микроволновые или лазерные рентрасляторы для понижения между-обменной латентности. Некоторые считают, что HFT приносят пользу рынку, добавляя на него ликвидность. Тем не менее, эта ликвидность может исчезнуть в мгновение ока и используется как насос, перекачивающий фонды от менее продвинутых игроков рынка к тем, которые работают с HFT. Помимо вопроса о честности применения HFT, очевидным является то, что операторы HFT могут серьёзно искажать цену активов, которыми они торгуют, саботируя таким образом процесс установления цены. Многие из этих HFT управляются и/или спонсируются отделениями инвестиционного банкинга ключевых международных банков. Это означает, что хоть криптовалюты и исключают необходимость использования банков для хранения и передачи ценностей, фиатный банковский сектор по-прежнему может оказывать существенное влияние на криптовалюты через их HFT.</p>
<p></p>
<p><tags><tag kind="heading2">## </tag></tags>Практические соображения</p>
<p>Для того чтобы DEX был эффективным, нужно принять во внимание такие базовые практические моменты. Используя атомные свопы, можно осуществлять «trustless» обмены поддерживаемых криптовалют как он-чейн, так и офф-чейн. Для того чтобы генерировать и поддерживать книгу ордеров, должна существовать площадка, на которой пользователи могли бы обсуждать цены. Для предотвращения размещения пользователями мошеннических ордеров, должен существовать механизм, позволяющий пользователям продемонстрировать то, что они контролируют фонды соответствующих ордеров. Пользователи должны иметь возможность передавать и получать лимитные и рыночные ордеры для того, чтобы их ордеры могли быть согласованы. Из-за существующих ограничений на он-чейн транзакции, размер лимитных ордеров он-чейн должен быть стандартизированным. Можно начать с простой архитектуры по схеме «клиент-сервер», а затем расширить её, предоставив возможность серверам передавать ордеры друг другу, создавая таким образом сетку. </p>
<p></p>
<p><tags><tag kind="heading2">## </tag></tags>Атомные свопы</p>
<p>Как мы продемонстрировали с помощью наших инструментов для атомного свопа осенью 2017 года, конкретный, минимально сложный умный контракт позволяет обменять две отдельные криптовалюты по принципу «trustless». Это процесс называется «атомный своп».  Атомный своп базируется на принципе «trustless» и может считаться естественной основой для построения DEX. Несколько других проектов DEX применяют атомный своп именно по этой причине. Атомный своп может решать проблему урегулирования совпадающих ордеров как он-чейн, так и офф-чейн, поэтому задача по построению DEX сводится к процессу мэтчинга ордеров.</p>
<p></p>
<p><tags><tag kind="heading2">## </tag></tags>Архитектура «Клиент-Сервер»</p>
<p>Приняв во внимание то, что атомные свопы являются основополагающим элементом, мы можем приступить к обсуждению основных характеристик архитектуры DEX. Несколько существующих проектов DEX приняли решение заменить обмен на автономный блокчейн или токен Ethereum. В обоих случаях эти проекты используют комиссионные сборы, получаемые от заключения сделок, как способ извлечения выгоды от процесса обмена. Однако, наблюдательный читатель заметит, что атомные свопы упрощают обмен без никакой доверенной третьей стороны (“TTP”). Мы считаем, что вместо того, чтобы воссоздавать TTP как блокчейн или токен, самое логичное решение – это создание DEX по простой схеме сервиса «клиент-сервер», который полностью исключает необходимость какой-либо доверенной третьей стороны. Блокчейны и токены – это очень «тяжелые» решения, и они подразумевают наличие различных инженерных ограничений. Поэтому, исключая их, мы освобождаем себя и от этих ограничений тоже. В этой самой базовой форме, DEX – это просто площадка, на которой пользователи, желающие обменять криптовалюту, встречаются и участвуют в процессе установления цены. Использование модели «клиент-сервер» для DEX позволяет нам воссоздать самую базовую форму обменных операций между людьми в контексте «permissionless»:  традиционная биржа аукционного типа.</p>
<p></p>
<p><tags><tag kind="heading2">## </tag></tags>Верификация ордера</p>
<p>Предотвращение размещения клиентами мошеннических ордеров является важным компонентом эффективного функционирования DEX. В случае он-чейн обмена, очень просто продемонстрировать контроль над фондами с помощью персонального ключа, который используется для подписывания ордерных сообщений и соответствует фондам, указанным в ордере. Обратите внимание на то, что в случае подписывания ордеров соответствующим персональным ключом, персональный ключ передаёт некоторые данные в открытый ключ, что негативно сказывается на безопасности, особенно если речь идёт об оппоненте с квантовым компьютером. Сервер должен сверять каждый ордер с локальной копией соответствующего блокчейна или с сервисом «block explorer», чтобы убедиться в том, что он валидный и правильно подписанный. Как только сервер подтверждает клиентский ордер, он может передаваться сервером одному или множественным клиентам.</p>
<p></p>
<p><tags><tag kind="heading2">## </tag></tags>Маршрутизация лимитных и рыночных ордеров </p>
<p>Для DEX необходима поддержка двух типов ордеров: лимитных и рыночных. Лимитные ордеры – это «standing orders», направленные на покупку или продажу по конкретной цене. Рыночные ордеры выпускаются спот-покупателями и спот-продавцами, чтобы быть выполненными по наилучшей цене. Сервер может выступать в роли примитивного передатчика: в этом случае он просто передаёт ордеры, отправленные клиентами. Или же он может собирать и поддерживать книгу ордеров: в этом случае он добавляет обновления в книгу ордеров, когда клиенты передают ордеры. В обоих случаях, лимитные ордеры передаются другим клиентам, а рыночные ордеры маршрутизируются напрямую к клиентам с совпадающими лимитными ордерами. Чтобы сервер не подделывал книгу ордеров, он может передавать клиентам только подписанные ордеры, чтобы они сами могли проверить, что ордеры в книге ордеров валидны.</p>
<p></p>
<p><tags><tag kind="heading2">## </tag></tags>Стандартизированные размеры лотов</p>
<p>Очень важная деталь, которую нужно учесть на DEX он-чейн, касается того, как решать проблему частичных выполнений ордеров. К примеру, есть лимитный ордер на покупку DCR (покупка DCR на 100 BTC), и есть рыночные совпадающие ордеры на продажу BTC (обмен 0,1 BTC на DCR). Если разрешить лимитные и рыночные ордеры произвольных размеров, это создаст определённые проблемы, ведь клиент, ордер которого выполняется частично, должен создать он-чейн транзакцию, чтобы обновить подписанный ордер, и это может длиться несколько минут или дольше. Предположим, что у нас есть лимитный ордер на покупку 100 BTC. Частичное выполнение с рыночной продажей 0,1 BTC было выдвинуто как встречное предложение. Теперь клиент с лимитным ордером на покупку должен внести изменения в изначальный ордер, чтобы урегулировать частичное выполнение с использованием атомного свопа, и они вынуждены ждать, пока 99,9 BTC могут быть оформлены как новый ордер и отправлены в DEX. Чтобы решить эту проблему, DEX будет осуществлять урегулирование на основе стандартизированных размеров лотов на стороне купли и продажи каждой торговой пары, а клиенты должны размещать ордеры, придерживаясь этих размеров лотов. </p>
<p></p>
<p><tags><tag kind="heading2">## </tag></tags>Сетка серверов</p>
<p>Минимальный жизнеспособный продукт для DEX характеризуется простой архитектурой «клиент-сервер», но эта модель обладает некоторыми недостатками, которые можно исправить путём создания сетки серверов, которые передают ордеры друг другу. Добавление поддержки для коммуникации «server-to-server», очевидно, не является простой задачей, но такая поддержка сделает возможным создание международных торговых пар. Бонусом такой системы можно считать то, что она будет работать стабильно даже при потере или отключении больших сегментов сети, в отличие от многих блокчейнов.</p>
<p></p>
<p><tags><tag kind="heading2">## </tag></tags>Согласование вознаграждений</p>
<p>Криптовалютам удалось продемонстрировать, что можно получить большую прибыль через систему правильно согласованных вознаграждений, и мы стремимся воссоздать эту согласованность в контексте DEX. В случае криптовалют, согласование вознаграждений связано с субсидиями блоков и с их распределением, а в DEX – это вопрос того, как решить проблему комиссионных сборов, платежей за обслуживание и контроля над фондами. Так как мы присоединились к пространству DEX позже, чем другие проекты, нам посчастливилось иметь возможность наблюдать за тем, как эти проекты решили вопрос вознаграждений, и мы не были вынуждены вводить новшества в вакууме.</p>
<p></p>
<p><tags><tag kind="heading2">## </tag></tags>Нулевые комиссионные сборы</p>
<p>Существующие DEX проекты получают все платежи из каждой сделки через соответствующий блокчейн или токен, но мы считаем, что это неправильная структура вознаграждений. Сбор комиссионных от сделок напрямую стимулирует централизацию трейдинга поставщиков сервиса, будь то блокчейн, токен или сервис. Для того чтобы привести в соответствие вознаграждения и по-настоящему децентрализированный обмен, нам нужно исключить комиссионные сборы из DEX. </p>
<p>Многие будущие пользователи скорее рады такой перспективе, но многие DEX проекты или централизированные обмены не настолько благосклонны к такому предложению. Резонный вопрос на эту тему: «Если не будет комиссионных сборов, то что будет являться стимулом для работы с сервером DEX?». И ответить на этот вопрос можно так, как обычно отвечают на другой вопрос: «Если никто не платит за управление сервером электронной почты, чата или блокчейна, то что стимулирует заниматься этим?». Управление сервером DEX предоставляет конкретную пользу, а именно низкозатратную взаимозаменяемость ценности в блокчейнах. К счастью, не каждый должен управлять сервером DEX для того, чтобы эта инфраструктура приносила существенную пользу.</p>
<p></p>
<p><tags><tag kind="heading2">## </tag></tags> Non-Custodial серверы</p>
<p>Атомные свопы исключают необходимость того, чтобы сервер контролировал фонды. А сам сервер, который не контролирует фонды, - это ещё один пример согласованных вознаграждений. Когда обмен контролирует фонды, соответствующие вознаграждения существенно меняются. При таком подходе стимулируется недопущение потери этих фондов по репутационным и нормативным причинам, а также и осуществление действий (нежелательных), вызванных  такими опасениями. Среди таких нежелательных мер: сбор значительного количества данных о пользователях, отслеживание источника пользовательских фондов, передача информации в правоохранительные органы, задержки и/или ограничения на выдачу фондов или депозитов. Помимо этих «risk-of-loss» вознаграждений, есть также и бонус для обменов, которые ведут себя как «плохие актёры». Такие обмены, например, крадут пользовательские фонды, манипулируют книгами ордеров, запускают ботов в свои собственные книги, предоставляют пользователям бесплатные учётные записи, предоставляют выгоды, связанные с латентностью, чтобы выбрать пользователей. Серверы DEX, которые не контролируют фонды, исключают большинство из этих нежелательных вознаграждений.</p>
<p></p>
<p><tags><tag kind="heading2">## </tag></tags>Плата за создание учётной записи клиента</p>
<p>Чтобы злонамеренные клиенты не создавали проблемы на серверах DEX, мы введём небольшую конфигурируемую сервером плату за создание новой учётной записи клиента. Для порядочных клиентов, эта плата за получение доступа к сервисам сервера будет разовой. Злонамеренные клиенты будут вынуждены вносить эту плату неоднократно, в случае если они будут создавать проблемы, и их учётная запись будет заблокирована. Эти платежи не будут определять объём, они задуманы как сдерживающий фактор для спама и потенциально могут возместить некоторые расходы, связанные с управлением сервером DEX.</p>
<p></p>
<p><tags><tag kind="heading2">## </tag></tags>Транспарентность как инструмент</p>
<p>До настоящего времени, большинство участников блокчейн пространства, рассматривали транспарентность блокчейнов как неизбежную слабую сторону, но мы будем применять транспарентность как эффективный инструмент в контексте DEX. Осуществляя обмены он-чейн и используя криптографическую аттестацию, как клиенты, так и серверы могут нести ответственность за злонамеренное поведение. Криптографические доказательства злонамеренного поведения клиента или сервера будут отправлены в репозиторий Politeia, создавая репутационную систему для DEX, подлежащую независимой проверке. Что ещё более важно, можно будет создать эквивалент консенсусных правил для одного или больше серверов DEX, позволяя серверу и клиентам диктовать и навязывать критерии определения приемлемости ордера, и это является видом децентрализированного регулирования. Ещё одно дополнительное преимущество использования он-чейн транспарентности это то, что с ней гораздо сложнее перемешать «фейковый» объём с помощью фиктивной торговли, а те, кто участвуют в подозрительных торговых операциях, будут идентифицированы.</p>
<p></p>
<p><tags><tag kind="heading2">## </tag></tags>Он-чейн транзакции для подотчётности</p>
<p>Осуществляя атомные свопы он-чейн, клиенты на обеих сторонах свопа могут вести себя злонамеренно, поэтому необходимо ввести систему подотчётности для этого процесса. В свою очередь, операторы сервера DEX тоже могут вести себя злонамеренно, и клиенты могут продемонстрировать злонамеренность их действия, благодаря криптографическим счетам по отправленным и совпадающим ордерам. Комбинация он-чейн транзакций и криптографических счетов будет работать как база для репутационной системы DEX.</p>
<p></p>
<p><tags><tag kind="heading2">## </tag></tags>Репутационная система на основе Politeia</p>
<p>Эта репутационная система будет базироваться на Politeia, упорядоченной по времени файловой системе на основе git. Эта система зафиксирует, когда какой-либо клиент или сервер нарушают правило, а также указывает точную дату и время такого действия. Также возможной является поддержка многочисленных репутационных систем, и они могут быть либо публичными, либо приватными. Клиенты и серверы будут использовать репутационные сервисы как базис для того, чтобы принимать или отклонять ордеры.</p>
<p></p>
<p><tags><tag kind="heading2">## </tag></tags>Децентрализированное регулирование</p>
<p>Наряду с тем, что DEX не будет блокчейном, возможным является создание правил, которые будут добровольно соблюдаться как клиентами, так и серверами в сети. Согласно ранее изложенным комментариям касательно формата ордеров, есть некоторые правила, которым нужно следовать для того, чтобы DEX эффективно функционировал. Например, ордеры должны соответствовать подписанным сообщениям, демонстрируя контроль над соответствующим количеством не потраченных монет. В связи с тем, что DEX будет использовать он-чейн транзакции, можно будет также добавить дополнительные произвольные ограничения на критерии определения валидности ордера со стороны клиентов и/или серверов. Пример такого ограничения: ордер признаётся валидным, если монеты не циркулировали он-чейн на протяжении как минимум 24 часов. Это очень важно, чтобы клиенты и серверы придерживались одного мнения по поводу того, что определяет валидность ордера. В противном случае, возникающие разногласия создадут проблемы при мэтчинге ордеров. Именно поэтому, эти дополнительные правила похожи на консенсусные правила в блокчейне, которые должны быть одинаковыми в том или ином блокчейне для стабильности и для предотвращения форка. Даже самые простые дополнительные правила (как, например, то, что ордеры считаются валидными, если монеты не циркулировали он-чейн на протяжении как минимум 24 часов) могут иметь серьёзные последствия для DEX, как, например, то, что  клиентам разрешается перемешивать монеты только 1 раз в день. Эти дополнительные добровольно соблюдаемые правила формируют форму децентрализированного регулирования, которая позволит DEX блокировать действия, которые признаны клиентами или серверами как неприемлемые, например, чрезмерный спуфинг.</p>
<p></p>
<p><tags><tag kind="heading2">## </tag></tags>Проверяемый объём</p>
<p>Ключевая проблема с существующими обменами связана с фейковым объёмом. Не составляет труда настроить обмен и затем немедленно подделать данные касательно объёма, или же запустить управляемого обменом бота, который будет фиктивно торговать сам с собой. Централизированные обменные сервисы никак не могут доказать то, что осуществляемая на них торговля является «настоящей», а не подделывается или является фиктивной торговлей, так как ордеры размещаются офф-чейн и не могут быть сверены с леджером. Благодаря тому, что DEX работает он-чейн, данные касательно объёма могут быть сверены извне с соответствующими блокчейнами и атомными свопами, которые там осуществляются. Кроме того, попытки фиктивной торговли могут быть распознаны и отфильтрованы благодаря он-чейн истории трансакций. Если клиенты и серверы посчитают нужным, они могут внедрить правила, помогающие предотвращать фиктивную торговлю в разных её формах.</p>
<p></p>
<p><tags><tag kind="heading2">## </tag></tags>Понижение барьеров на вход</p>
<p>Есть множество препятствий как для тех, кто управляет обменом, так и для его клиентов. Именно поэтому, DEX будет нацелен на упрощение обоих процессов. Согласно ранее изложенным комментариям, DEX будет отличаться простой архитектурой «клиент-сервер», которая является целесообразной не только с точки зрения внедрения, но и с точки зрения понижения барьеров на вход. Добавление поддержки для конкретной криптовалюты - это простая задача по добавлению поддержки для атомных свопов, что может быть сделано скорее разработчиком проекта, чем обменным сервисом. Входящие данные для каждого сервера становятся доступными для его клиентов, и могут опционально предоставлять данные об истории трансакций и храниться в репозитории Politeia.</p>
<p></p>
<p><tags><tag kind="heading2">## </tag></tags>Простоя настройка архитектуры «Клиент-Сервер»</p>
<p>Чтобы поддерживать децентрализованность DEX, в идеале нужно сделать так, чтобы настройка сервера и добавление клиента были максимально простыми. В отличие от DEX, настройка в альтернативных версиях трудоёмкая: это касается, например, создания и поддержки блокчейна или настройки сервиса с учётом ограничений  KYC/AML. Хоть и маловероятно на практике, но существует возможность блокирования доступа к конкретному блокчейну в рамках государственных границ, и это может случиться с любым обменным сервисом. Архитектура «клиент-сервис» с простой настройкой не только упрощает процесс настройки новых серверов и клиентов, но и также и повышает устойчивость к цензуре.</p>
<p></p>
<p><tags><tag kind="heading2">## </tag></tags>Добавление поддержки через атомные свопы</p>
<p>Добавление поддержки новой криптовалюты в обмен - это обычно вопрос терпения, политик, платежей, или же некая комбинация всего вышеперечисленного. В настоящее время процесс включения в список на обменах истощает ресурсы проекта и устанавливает искусственные ограничения на ликвидность, к которой проект имеет доступ. Единственное требование для поддержки конкретной криптовалюты на DEX – это поддержка для соответствующего атомного свопа. Таким образом, устраняются  существующие политические и процедурные препятствия, связанные с включением в списки на различных сервисах. Простота получения доступа к обменной ликвидности поможет обеспечить равные условия для разных криптовалютных проектов, поскольку через списки обменов некоторые проекты могут получать существенное преимущество над другими.</p>
<p></p>
<p><tags><tag kind="heading2">## </tag></tags>Клиент API</p>
<p>Входящие данные будут доступны для клиентов и с их соответствующего сервера и будут использованы как для данных в режиме реального времени, так и для исторических данных. API позволит клиентам получать snapshot книги ордеров, подписываться на обновления в книге ордеров и получать доступ к историческим данным. Так как данные поступают из сервера, объём данных в режиме реального времени и исторических данных будет варьироваться от сервера к серверу. Качество и объём доступных данных, вероятно, начнут расти, как только серверы смогут передавать друг другу данные. Кошельки, которые поддерживают  DEX, будут использовать клиент API для создания пользовательского интерфейса.</p>
<p></p>
<p><tags><tag kind="heading2">## </tag></tags>Игры с латентностью</p>
<p>Криптовалютные рынки выросли в размере и стали более зрелыми, они также привлекли внимание автоматических торговых алгоритмов, и в частности высокочастотных алгоритмов (“HFT”). HFT вносят существенный вклад в торговые объёмы, на которые ссылаются обмены, но качество этих объёмов, в лучшем случае, сомнительно. DEX будет использовать псевдорандомный мэтчинг ордеров в рамках эпох, чтобы ограничить влияние HFT, при этом по-прежнему позволяя менее частым клиентам осуществлять должным образом мэтчинг их ордеров. Нужно отметить, что офф-чейн платёжные системы, такие как Lightning Network, могут быть использованы для обмена, но важно понимать, что им свойственны проблемы с транспарентностью и установлением цены, по аналогии с  существующими фондовыми  и сырьевыми обменами.</p>
<p></p>
<p><tags><tag kind="heading2">## </tag></tags>Псевдорандомный мэтчинг ордеров</p>
<p>Степень, в которой современные финансовые рынки управляются HFT, не так часто обсуждается. Действия, направленные на уменьшение влияния HFT, обсуждается ещё реже, так как обмены стимулируются с помощью комиссионных сборов, которые они генерируют. Некоторые традиционные обмены, например IEX и CHX, добавили 350-микросекундного «лежачего полицейского», чтобы предотвратить арбитраж латентности ниже этого порога, и это только частично решает данную проблему. Вместо того чтобы лишь частично решать проблему арбитража латентности, что всё же является возможным в случае 350-микросекундного минимума, DEX будет осуществлять мэтчинг ордеров псевдорандомно в рамках эпох. Использование эпохи длительностью от 10 секунд должно существенно сократить преимущества, которые могут быть получены клиентами, чьи соединения с сервером являются низкими по латентности. Отказываясь от алгоритма мэтчинга ордеров по схеме «first in, first out» (“FIFO”), клиенты могут осуществлять мэтчинг своих ордеров в честной манере в рамках эпох, в то время как предотвращение поведения «queue cutting» требуется для успешного функционирования большинства HFT.</p>
<p></p>
<p><tags><tag kind="heading2">## </tag></tags>Отдельные офф-чейн подсистемы </p>
<p>Учитывая то, что в офф-чейн платёжных системах (таких, как Lightning Network) задействованы гораздо более низкие латентности, нужно рассмотреть их полезность в контексте DEX. Важнейшим преимуществом того, что DEX работает он-чейн, является то, что свопы доказуемы и могут быть проверены на предмет фиктивной торговли. Как продемонстрировала система Lightning Labs, офф-чейн атомные свопы действительно возможны, но проверка совпадающих ордеров и проверка этих ордеров на предмет фиктивной торговли является нетривиальной, даже, скорее, очень сложной задачей. В свете проблем с транспарентностью и установлением цены, которыми сопровождаются свопы LN, DEX может инкорпорировать офф-чейн свопы как способ выполнения менее крупных ордеров с низкой латентностью. Вместо того чтобы поддерживать книгу офф-чейн ордеров, ордеры могут быть выполнены по рыночным ценам, установленным DEX он-чейн, где транспарентность и установление цены являются более простой задачей.</p>
<p></p>
<p><tags><tag kind="heading2">## </tag></tags>Общая картина</p>
<p>Львиная доля нашего предложения – это практические размышления на тему того, как должен работать идеальный DEX, и как можно этого достичь, используя инфраструктуру существующих криптовалют. То, что мы предлагаем, - это мультиплексинговая  инфраструктура для криптовалютного обмена. Таким же образом, как телефонная связь и сети переключают мультиканальные электромагнитные сигналы, криптовалюты и их обмен разбивают на каналы хранение, передачу и обмен ценностью. The Lightning Network daemon, lnd, - это отличный пример умного нейтрального контракта-мультиплексора, «permissionless» и «non-custodial», который очень похож на предложенный нами DEX. В то время как DEX работает он-чейн и между криптовалютами, lnd работает офф-чейн и с конкретной криптовалютой. </p>
<p></p>
<p>Существующие проекты DEX нацелены на то, чтобы сделать такой протокол «толстым», используя его в качестве метода монетизации их сервисов. В отличие от таких проектов, мы предлагаем намеренно сделать протокол «худым». Делая протокол «худым» и исключая централизирующие вознаграждения, мы нацелены на то, чтобы предлагать долгосрочную прибыль за счёт повышения стабильности на криптовалютных обменных рынках.  Если все криптовалюты будут работать на равных условиях в контексте обмена, это облегчит процесс приобретения криптовалют, что в свою очередь благотворно скажется на общей экосистеме.</p>
<p></p>
<p><tags><tag kind="heading2">## </tag></tags>Вывод</p>
<p>Возможность осуществлять обмен криптовалют с минимальной фрикцией, риском и централизацией важна для процесса принятия криптовалют более широкими слоями населения. Внедрение DEX по описанной выше схеме:</p>
<p><tags><tag kind="unorderedList">- </tag></tags>избавит обменный процесс от необходимости просить разрешения, как для проектов, так и для пользователей,</p>
<p><tags><tag kind="unorderedList">- </tag></tags>исключит гейткиперов, барьеры на вход и большинство платежей</p>
<p><tags><tag kind="unorderedList">- </tag></tags>будет более устойчивым к цензуре, чем промежуточный чейн или токен</p>
<p><tags><tag kind="unorderedList">- </tag></tags>уменьшит влияние HFT на процесс установления цены</p>
<p><tags><tag kind="unorderedList">- </tag></tags>защитит ликвидность криптовалютной экосистемы от атак</p>
<p><tags><tag kind="unorderedList">- </tag></tags>предотвратит или отфильтрует фиктивную торговлю, создавая проверяемые объемы</p>
<p><tags><tag kind="unorderedList">- </tag></tags>облегчит децентрализированное регулирование торговли</p>
<p></p>
<p>Это предварительное предложение было опубликовано в Decred Blog, так как оно актуально для Decred и для криптовалютного сообщества в целом. Как только наша платформа для предложений, Politeia, будет запущена на mainnet, мы отправим это предложение на этой платформе, чтобы найти разработчиков и финансирование для этого проекта. Мы оцениваем, что DEX может быть построен за 6-18 месяцев, с финансированием от 1 до 5 миллионов USD, в зависимости от заинтересованного разработчика. Если другие криптовалютные проекты будут заинтересованы в сотрудничестве с ними по построению DEX, мы полностью открыты к такому сотрудничества. Пожалуйста, свяжитесь с ними через Slack и присоединяйтесь к каналу #thedex.</p>
<p></p></string>
</sheet>